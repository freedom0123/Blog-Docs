---
title: 第4节 循环依赖问题
date: 2023-02-28 20:32:12
permalink: /pages/2c5acb/
author: 
  name: Hao Long
---
# 第4节 循环依赖问题

Spring 中所能解决的问题，就是**两个对象都是单实例的，并且两个对象都是通过set注入的方式才能够成功**。注意，以下情况是不可以的

- 如果说两个对象都是单实例的，但是通过构造注入的方式，是不可以的
- 如果说两个对象都是多实例的，不管哪种方式都是不可以的

首先，这里分析一下循环引用的问题，比方说A 中引用了B，B中共引用了A，这就造成了循环引用，在创建对象的时候，就造成了死循环。并且在下图中共给出了流程

![](img/%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A801.drawio.png)

在上图的分析过程中，我们将一个半成品的对象，放在了一个Map中，就解决了循环引用的问题，那么在Spring中到底是如何进行实现的？



![](img/%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8.drawio.png)

分析完成！